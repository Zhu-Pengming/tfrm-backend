# TFRM å¾®ä¿¡å°ç¨‹åº

<div align="center">

**åŸºäºå¾®ä¿¡å°ç¨‹åºåŸç”Ÿæ¡†æ¶ + TypeScript çš„æ—…è¡Œèµ„æºç®¡ç†ç§»åŠ¨ç«¯**

[![WeChat](https://img.shields.io/badge/WeChat-MiniProgram-07C160.svg?style=flat&logo=WeChat&logoColor=white)](https://developers.weixin.qq.com/miniprogram/dev/framework/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-3178C6.svg?style=flat&logo=TypeScript&logoColor=white)](https://www.typescriptlang.org)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

TFRM å¾®ä¿¡å°ç¨‹åºæ˜¯æ—…è¡Œèµ„æºæ™ºèƒ½ç®¡ç†å¹³å°çš„ç§»åŠ¨ç«¯åº”ç”¨ï¼Œä¸ºæ—…è¡Œç¤¾é”€å”®äººå‘˜æä¾›ä¾¿æ·çš„èµ„æºç®¡ç†å·¥å…·ã€‚æ”¯æŒç¢ç‰‡åŒ–èµ„æºå¯¼å…¥ã€AI æ™ºèƒ½è§£æã€èµ„æºæ£€ç´¢ã€æŠ¥ä»·ç”Ÿæˆç­‰å®Œæ•´ä¸šåŠ¡æµç¨‹ã€‚

**æ ¸å¿ƒä»·å€¼**ï¼š
- ğŸ“± **ç§»åŠ¨åŠå…¬**ï¼šéšæ—¶éšåœ°ç®¡ç†èµ„æºå’ŒæŠ¥ä»·
- ğŸ¤– **AI è§£æ**ï¼šè‡ªåŠ¨æå–èµ„æºä¿¡æ¯ï¼Œæé«˜å½•å…¥æ•ˆç‡
- ğŸ” **å¿«é€Ÿæ£€ç´¢**ï¼šå¤šç»´åº¦æœç´¢ï¼Œå¿«é€Ÿæ‰¾åˆ°æ‰€éœ€èµ„æº
- ğŸ’° **ä¾¿æ·æŠ¥ä»·**ï¼šç»„åˆèµ„æºç”ŸæˆæŠ¥ä»·ï¼Œä¸€é”®åˆ†äº«ç»™å®¢æˆ·
- ğŸ¢ **å¤šç§Ÿæˆ·éš”ç¦»**ï¼šæ•°æ®å®‰å…¨ï¼Œæœºæ„é—´å®Œå…¨éš”ç¦»

**é€‚ç”¨åœºæ™¯**ï¼š
- é”€å”®äººå‘˜å¤–å‡ºæ—¶å¿«é€Ÿå½•å…¥ä¾›åº”å•†èµ„æº
- éšæ—¶æŸ¥è¯¢èµ„æºåº“ä¿¡æ¯
- å¿«é€Ÿç”ŸæˆæŠ¥ä»·å•å‘é€ç»™å®¢æˆ·

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
tfrm-miniprogram/
â”œâ”€â”€ miniprogram/                # å°ç¨‹åºæºç 
â”‚   â”œâ”€â”€ pages/                 # é¡µé¢ç›®å½•
â”‚   â”‚   â”œâ”€â”€ login/            # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ login.wxml    # é¡µé¢ç»“æ„
â”‚   â”‚   â”‚   â”œâ”€â”€ login.ts      # é¡µé¢é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ login.wxss    # é¡µé¢æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ login.json    # é¡µé¢é…ç½®
â”‚   â”‚   â”œâ”€â”€ import/           # ç¢ç‰‡å¯¼å…¥é¡µ
â”‚   â”‚   â”œâ”€â”€ import-detail/    # è§£æç¡®è®¤é¡µ
â”‚   â”‚   â”œâ”€â”€ skus/             # èµ„æºåº“åˆ—è¡¨é¡µ
â”‚   â”‚   â”œâ”€â”€ sku-detail/       # SKU è¯¦æƒ…é¡µ
â”‚   â”‚   â”œâ”€â”€ quotation/        # æŠ¥ä»·ç®¡ç†é¡µ
â”‚   â”‚   â”œâ”€â”€ quotation-edit/   # æŠ¥ä»·ç¼–è¾‘é¡µ
â”‚   â”‚   â””â”€â”€ publish-success/  # å‘å¸ƒæˆåŠŸé¡µ
â”‚   â”œâ”€â”€ utils/                # å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ api.ts           # API æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ storage.ts       # æœ¬åœ°å­˜å‚¨å·¥å…·
â”‚   â”‚   â””â”€â”€ util.ts          # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ assets/              # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ icons/           # å›¾æ ‡æ–‡ä»¶
â”‚   â”œâ”€â”€ app.json             # å°ç¨‹åºå…¨å±€é…ç½®
â”‚   â”œâ”€â”€ app.ts               # å°ç¨‹åºå…¥å£é€»è¾‘
â”‚   â”œâ”€â”€ app.wxss             # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ sitemap.json         # ç´¢å¼•é…ç½®
â”œâ”€â”€ project.config.json       # é¡¹ç›®é…ç½®
â”œâ”€â”€ project.private.config.json # ç§æœ‰é…ç½®
â””â”€â”€ README.md                 # æœ¬æ–‡æ¡£
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **å¾®ä¿¡å¼€å‘è€…å·¥å…·**: æœ€æ–°ç¨³å®šç‰ˆ
- **åç«¯æœåŠ¡**: ç¡®ä¿åç«¯ API å·²å¯åŠ¨
- **Node.js**: 16+ (å¯é€‰ï¼Œç”¨äº TypeScript ç¼–è¯‘)

### å®‰è£…æ­¥éª¤

#### 1. ä¸‹è½½å¾®ä¿¡å¼€å‘è€…å·¥å…·

è®¿é—® [å¾®ä¿¡å¼€å‘è€…å·¥å…·å®˜ç½‘](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html) ä¸‹è½½å¹¶å®‰è£…

#### 2. é…ç½®åç«¯åœ°å€

ç¼–è¾‘ `miniprogram/utils/api.ts`ï¼š

```typescript
const API_BASE_URL = 'http://localhost:8000'  // ä¿®æ”¹ä¸ºä½ çš„åç«¯åœ°å€
```

**æ³¨æ„**ï¼š
- å¼€å‘ç¯å¢ƒï¼šå¯ä½¿ç”¨ `http://localhost:8000`
- ç”Ÿäº§ç¯å¢ƒï¼šå¿…é¡»ä½¿ç”¨ HTTPS åŸŸå

#### 3. æ‰“å¼€é¡¹ç›®

1. å¯åŠ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. ç‚¹å‡»"å¯¼å…¥é¡¹ç›®"
3. é€‰æ‹©é¡¹ç›®ç›®å½•ï¼š`tfrm-miniprogram`
4. AppIDï¼š
   - æµ‹è¯•ï¼šä½¿ç”¨æµ‹è¯•å·
   - æ­£å¼ï¼šä½¿ç”¨ä½ çš„å°ç¨‹åº AppID

#### 4. é…ç½®å¼€å‘ç¯å¢ƒ

åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼š
1. ç‚¹å‡»å³ä¸Šè§’"è¯¦æƒ…"
2. å‹¾é€‰"ä¸æ ¡éªŒåˆæ³•åŸŸåã€web-viewï¼ˆä¸šåŠ¡åŸŸåï¼‰ã€TLS ç‰ˆæœ¬ä»¥åŠ HTTPS è¯ä¹¦"
3. å‹¾é€‰"å¯ç”¨ ES6 è½¬ ES5"
4. å‹¾é€‰"å¯ç”¨å¢å¼ºç¼–è¯‘"

#### 5. ç¼–è¯‘è¿è¡Œ

ç‚¹å‡»å·¥å…·æ çš„"ç¼–è¯‘"æŒ‰é’®ï¼Œåœ¨æ¨¡æ‹Ÿå™¨ä¸­æŸ¥çœ‹æ•ˆæœ

---

## ï¿½ æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **å¾®ä¿¡å°ç¨‹åº** | æœ€æ–° | å°ç¨‹åºæ¡†æ¶ |
| **TypeScript** | 5.x | ç±»å‹å®‰å…¨ |
| **WXSS** | - | æ ·å¼è¯­è¨€ |
| **WXML** | - | æ¨¡æ¿è¯­è¨€ |

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ç™»å½•é¡µ (`/pages/login`)

#### åŠŸèƒ½
- ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- JWT Token è·å–
- å¤šç§Ÿæˆ·éš”ç¦»ï¼ˆagency_idï¼‰

#### é¡µé¢æµç¨‹
```
è¾“å…¥ç”¨æˆ·åå¯†ç  â†’ ç‚¹å‡»ç™»å½• â†’ è·å– Token â†’ è·³è½¬å¯¼å…¥é¡µ
```

### 2. ç¢ç‰‡å¯¼å…¥é¡µ (`/pages/import`)

#### åŠŸèƒ½
- ç²˜è´´éç»“æ„åŒ–èµ„æºæ–‡æœ¬
- æäº¤ AI è§£æä»»åŠ¡
- æŸ¥çœ‹æœ€è¿‘å¯¼å…¥å†å²

#### ä½¿ç”¨ç¤ºä¾‹
```
æ¸…è¿ˆäº²å­é…’åº—å¥—é¤
é…’åº—ï¼šæ¸…è¿ˆå‡æ—¥é…’åº—
æˆ¿å‹ï¼šå®¶åº­æˆ¿
ä»·æ ¼ï¼š499å…ƒ/æ™š
æˆæœ¬ï¼š350å…ƒ/æ™š
åœ°å€ï¼šæ¸…è¿ˆå¸‚ä¸­å¿ƒ
æœ‰æ•ˆæœŸï¼š2024å¹´å…¨å¹´
æ ‡ç­¾ï¼šäº²å­ã€é…’åº—
```

### 3. è§£æç¡®è®¤é¡µ (`/pages/import-detail`)

#### åŠŸèƒ½
- å®æ—¶æŸ¥çœ‹ AI è§£æçŠ¶æ€ï¼ˆè½®è¯¢ï¼‰
- æŸ¥çœ‹æå–çš„å­—æ®µå’Œè¯æ®
- ä¿®æ”¹ä¸å‡†ç¡®çš„å­—æ®µ
- é€‰æ‹©èµ„æºç±»å‹
- ç¡®è®¤å…¥åº“

#### è§£ææµç¨‹
```
æäº¤æ–‡æœ¬ â†’ AI è§£æä¸­ï¼ˆ10-30ç§’ï¼‰ â†’ æ˜¾ç¤ºæå–å­—æ®µ â†’ äººå·¥ç¡®è®¤ â†’ å…¥åº“æˆåŠŸ
```

### 4. èµ„æºåº“é¡µ (`/pages/skus`)

#### åŠŸèƒ½
- å¤šç»´åº¦æœç´¢ï¼ˆå…³é”®è¯/åŸå¸‚/ç±»å‹ï¼‰
- SKU åˆ—è¡¨å±•ç¤º
- åŠ å…¥æŠ¥ä»·ç¯®
- æŸ¥çœ‹ SKU è¯¦æƒ…

#### ç­›é€‰æ¡ä»¶
- **å…³é”®è¯**ï¼šåç§°ã€æ ‡ç­¾æ¨¡ç³Šæœç´¢
- **åŸå¸‚**ï¼šæŒ‰åŸå¸‚ç­›é€‰
- **ç±»å‹**ï¼šé…’åº—/é—¨ç¥¨/å¯¼æ¸¸/ç”¨è½¦

### 5. SKU è¯¦æƒ…é¡µ (`/pages/sku-detail`)

#### åŠŸèƒ½
- æŸ¥çœ‹å®Œæ•´ SKU ä¿¡æ¯
- æŸ¥çœ‹æ‰©å±•å±æ€§ï¼ˆattrsï¼‰
- åŠ å…¥æŠ¥ä»·ç¯®

#### æ˜¾ç¤ºä¿¡æ¯
- åŸºæœ¬ä¿¡æ¯ï¼šåç§°ã€ç±»å‹ã€åŸå¸‚
- ä»·æ ¼ä¿¡æ¯ï¼šå”®ä»·ã€æˆæœ¬
- æ‰©å±•ä¿¡æ¯ï¼šæ ‡ç­¾ã€å±æ€§ã€å¤‡æ³¨

### 6. æŠ¥ä»·ç®¡ç†é¡µ (`/pages/quotation`)

#### åŠŸèƒ½
- ç®¡ç†æŠ¥ä»·ç¯®
- æŸ¥çœ‹æŠ¥ä»·å•åˆ—è¡¨
- ç¼–è¾‘/å‘å¸ƒæŠ¥ä»·
- åˆ é™¤æŠ¥ä»·

#### æŠ¥ä»·ç¯®
- æ·»åŠ /åˆ é™¤ SKU
- è°ƒæ•´æ•°é‡
- æŸ¥çœ‹æ€»ä»·
- åˆ›å»ºæŠ¥ä»·å•

### 7. æŠ¥ä»·ç¼–è¾‘é¡µ (`/pages/quotation-edit`)

#### åŠŸèƒ½
- åˆ›å»º/ç¼–è¾‘æŠ¥ä»·å•
- å¡«å†™å®¢æˆ·ä¿¡æ¯
- è°ƒæ•´é¡¹ç›®æ•°é‡
- ä¿å­˜è‰ç¨¿æˆ–å‘å¸ƒ

#### æŠ¥ä»·å•å­—æ®µ
- æ ‡é¢˜
- å®¢æˆ·åç§°
- è”ç³»æ–¹å¼
- æŠ¥ä»·é¡¹åˆ—è¡¨
- æ€»ä»·

### 8. å‘å¸ƒæˆåŠŸé¡µ (`/pages/publish-success`)

#### åŠŸèƒ½
- æ˜¾ç¤ºåˆ†äº«é“¾æ¥
- ä¸€é”®å¤åˆ¶é“¾æ¥
- äºŒç»´ç åˆ†äº«ï¼ˆå¾…å®ç°ï¼‰

---

## ğŸ“± å®Œæ•´ä¸šåŠ¡æµç¨‹

### æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ ç™»å½• â”‚ -> â”‚ å¯¼å…¥ â”‚ -> â”‚ è§£æ â”‚ -> â”‚ ç¡®è®¤ â”‚
â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ åˆ†äº« â”‚ <- â”‚ å‘å¸ƒ â”‚ <- â”‚ æŠ¥ä»· â”‚ <- â”‚ æ£€ç´¢ â”‚
â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜
```

### è¯¦ç»†æ­¥éª¤

#### æ­¥éª¤ 1: ç™»å½•
1. æ‰“å¼€å°ç¨‹åº
2. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
3. ç‚¹å‡»"ç™»å½•"æˆ–"ç«‹å³æ³¨å†Œ"
4. ç™»å½•æˆåŠŸåè·³è½¬åˆ°å¯¼å…¥é¡µ

#### æ­¥éª¤ 2: ç¢ç‰‡å¯¼å…¥
1. åœ¨å¯¼å…¥é¡µç²˜è´´èµ„æºä¿¡æ¯
2. ç‚¹å‡»"å¼€å§‹è§£æ"
3. è‡ªåŠ¨è·³è½¬åˆ°è§£æè¯¦æƒ…é¡µ

#### æ­¥éª¤ 3: AI è§£æ
1. é¡µé¢æ˜¾ç¤º"AI æ­£åœ¨è§£æä¸­..."
2. åå° Celery å¼‚æ­¥è°ƒç”¨ LLMï¼ˆ10-30ç§’ï¼‰
3. é¡µé¢æ¯ 3 ç§’è½®è¯¢ä¸€æ¬¡çŠ¶æ€
4. è§£æå®Œæˆåæ˜¾ç¤ºæå–çš„å­—æ®µ

#### æ­¥éª¤ 4: äººå·¥ç¡®è®¤
1. æŸ¥çœ‹ AI æå–çš„å­—æ®µ
2. ç‚¹å‡»"æŸ¥çœ‹ä¾æ®"æŸ¥çœ‹æå–è¯æ®
3. ä¿®æ”¹ä¸å‡†ç¡®çš„å­—æ®µ
4. é€‰æ‹©èµ„æºç±»å‹
5. ç‚¹å‡»"ç¡®è®¤å…¥åº“"

#### æ­¥éª¤ 5: èµ„æºæ£€ç´¢
1. åˆ‡æ¢åˆ°"èµ„æºåº“" Tab
2. ä½¿ç”¨æœç´¢æ¡†æœç´¢å…³é”®è¯
3. ä½¿ç”¨ç­›é€‰å™¨æŒ‰åŸå¸‚/ç±»å‹è¿‡æ»¤
4. ç‚¹å‡» SKU å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…
5. ç‚¹å‡»"åŠ å…¥æŠ¥ä»·"æ·»åŠ åˆ°æŠ¥ä»·ç¯®

#### æ­¥éª¤ 6: ç»„åˆæŠ¥ä»·
1. åˆ‡æ¢åˆ°"æŠ¥ä»·" Tab
2. åœ¨æŠ¥ä»·ç¯®ä¸­è°ƒæ•´æ•°é‡
3. ç‚¹å‡»"åˆ›å»ºæŠ¥ä»·å•"
4. å¡«å†™æŠ¥ä»·å•æ ‡é¢˜å’Œå®¢æˆ·ä¿¡æ¯
5. è°ƒæ•´é¡¹ç›®æ•°é‡
6. ç‚¹å‡»"ä¿å­˜è‰ç¨¿"

#### æ­¥éª¤ 7: å‘å¸ƒåˆ†äº«
1. åœ¨æŠ¥ä»·åˆ—è¡¨ä¸­æ‰¾åˆ°è‰ç¨¿
2. ç‚¹å‡»"å‘å¸ƒ"æŒ‰é’®
3. ç¡®è®¤å‘å¸ƒ
4. è·³è½¬åˆ°å‘å¸ƒæˆåŠŸé¡µ
5. å¤åˆ¶åˆ†äº«é“¾æ¥å‘é€ç»™å®¢æˆ·

---

## ğŸ”§ é…ç½®è¯´æ˜

### API é…ç½®

æ–‡ä»¶ï¼š`miniprogram/utils/api.ts`

```typescript
const API_BASE_URL = 'http://localhost:8000'  // åç«¯åœ°å€

class APIService {
  private request<T>(options: RequestOptions): Promise<T> {
    // è‡ªåŠ¨æ·»åŠ  Token
    // è‡ªåŠ¨å¤„ç†é”™è¯¯
    // 401 è‡ªåŠ¨è·³è½¬ç™»å½•
  }
}
```

### TabBar é…ç½®

æ–‡ä»¶ï¼š`miniprogram/app.json`

```json
{
  "tabBar": {
    "color": "#999999",
    "selectedColor": "#667eea",
    "backgroundColor": "#ffffff",
    "list": [
      {
        "pagePath": "pages/import/import",
        "text": "å¯¼å…¥",
        "iconPath": "assets/icons/import.png",
        "selectedIconPath": "assets/icons/import-active.png"
      },
      {
        "pagePath": "pages/skus/skus",
        "text": "èµ„æºåº“",
        "iconPath": "assets/icons/skus.png",
        "selectedIconPath": "assets/icons/skus-active.png"
      },
      {
        "pagePath": "pages/quotation/quotation",
        "text": "æŠ¥ä»·",
        "iconPath": "assets/icons/quotation.png",
        "selectedIconPath": "assets/icons/quotation-active.png"
      }
    ]
  }
}
```

### é¡µé¢é…ç½®

æ¯ä¸ªé¡µé¢å¯å•ç‹¬é…ç½®å¯¼èˆªæ ï¼š

```json
{
  "navigationBarTitleText": "ç¢ç‰‡å¯¼å…¥",
  "navigationBarBackgroundColor": "#667eea",
  "navigationBarTextStyle": "white"
}
```

---

## ğŸ“¦ æ•°æ®æµ

### æœ¬åœ°å­˜å‚¨

| Key | ç±»å‹ | è¯´æ˜ |
|-----|------|------|
| `token` | string | JWT è®¤è¯ä»¤ç‰Œ |
| `agency_id` | number | æœºæ„ IDï¼ˆå¤šç§Ÿæˆ·éš”ç¦»ï¼‰ |
| `quotation_basket` | array | æŠ¥ä»·ç¯®æ•°æ® |

### API è°ƒç”¨æµç¨‹

```
å°ç¨‹åºé¡µé¢
    â†“
API Service (utils/api.ts)
    â†“ (è‡ªåŠ¨æ·»åŠ  Token)
    â†“ (è‡ªåŠ¨å¤„ç†é”™è¯¯)
    â†“ (401 è‡ªåŠ¨è·³è½¬ç™»å½•)
åç«¯ FastAPI
```

---

## ğŸ¨ UI è®¾è®¡

### é…è‰²æ–¹æ¡ˆ

- **ä¸»è‰²è°ƒ**ï¼šç´«è‰²æ¸å˜ (`#667eea` â†’ `#764ba2`)
- **æˆåŠŸè‰²**ï¼šç»¿è‰² (`#4caf50`)
- **è­¦å‘Šè‰²**ï¼šæ©™è‰² (`#ff9800`)
- **é”™è¯¯è‰²**ï¼šçº¢è‰² (`#ff4444`)
- **èƒŒæ™¯è‰²**ï¼šæµ…ç° (`#f5f5f5`)
- **æ–‡å­—è‰²**ï¼šæ·±ç° (`#333333`)

### ç»„ä»¶æ ·å¼

- **åœ†è§’**ï¼š`12rpx` / `16rpx`
- **æŒ‰é’®é«˜åº¦**ï¼š`88rpx`
- **å¡ç‰‡é—´è·**ï¼š`20rpx` / `30rpx`
- **å­—ä½“å¤§å°**ï¼š
  - æ ‡é¢˜ï¼š`32rpx` - `40rpx`
  - æ­£æ–‡ï¼š`28rpx`
  - è¾…åŠ©ï¼š`24rpx`

---

## ğŸ” å®‰å…¨è¯´æ˜

### Token ç®¡ç†

1. ç”¨æˆ·ç™»å½•åè·å– JWT Token
2. Token å­˜å‚¨åœ¨æœ¬åœ° Storage
3. æ¯æ¬¡ API è¯·æ±‚è‡ªåŠ¨æºå¸¦ Token
4. Token è¿‡æœŸï¼ˆ401ï¼‰è‡ªåŠ¨æ¸…é™¤å¹¶è·³è½¬ç™»å½•

### å¤šç§Ÿæˆ·éš”ç¦»

- æ¯ä¸ªç”¨æˆ·å…³è”ä¸€ä¸ª `agency_id`
- æ‰€æœ‰æ•°æ®è¯·æ±‚è‡ªåŠ¨è¿‡æ»¤å½“å‰æœºæ„æ•°æ®
- åç«¯å¼ºåˆ¶æ‰§è¡Œç§Ÿæˆ·éš”ç¦»
- è·¨ç§Ÿæˆ·è®¿é—®è¢«ä¸¥æ ¼ç¦æ­¢

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `pages/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶å¤¹
2. åˆ›å»º 4 ä¸ªæ–‡ä»¶ï¼š
   - `page-name.wxml` - é¡µé¢ç»“æ„
   - `page-name.ts` - é¡µé¢é€»è¾‘
   - `page-name.wxss` - é¡µé¢æ ·å¼
   - `page-name.json` - é¡µé¢é…ç½®
3. åœ¨ `app.json` çš„ `pages` æ•°ç»„ä¸­æ³¨å†Œ

### è°ƒç”¨æ–° API

åœ¨ `utils/api.ts` ä¸­æ·»åŠ æ–¹æ³•ï¼š

```typescript
async getSKUList(params: any) {
  return this.request<SKUListResponse>({
    url: '/skus',
    method: 'GET',
    data: params
  });
}
```

### æœ¬åœ°å­˜å‚¨

ä½¿ç”¨ `utils/storage.ts` ä¸­çš„æ–¹æ³•ï¼š

```typescript
import { setStorage, getStorage, removeStorage } from '../../utils/storage';

// å­˜å‚¨
setStorage('key', value);

// è¯»å–
const value = getStorage('key');

// åˆ é™¤
removeStorage('key');
```

---

## ğŸš€ éƒ¨ç½²ä¸Šçº¿

### å°ç¨‹åºå‘å¸ƒæµç¨‹

#### 1. æ³¨å†Œå°ç¨‹åº

1. è®¿é—® [å¾®ä¿¡å…¬ä¼—å¹³å°](https://mp.weixin.qq.com/)
2. æ³¨å†Œå°ç¨‹åºè´¦å·
3. å®Œæˆä¸»ä½“ä¿¡æ¯è®¤è¯
4. è·å– AppID

#### 2. é…ç½®æœåŠ¡å™¨åŸŸå

åœ¨å…¬ä¼—å¹³å°é…ç½®åˆæ³•åŸŸåï¼ˆå¿…é¡» HTTPSï¼‰ï¼š

- **request åˆæ³•åŸŸå**ï¼š`https://your-api-domain.com`
- **uploadFile åˆæ³•åŸŸå**ï¼š`https://your-api-domain.com`
- **downloadFile åˆæ³•åŸŸå**ï¼š`https://your-api-domain.com`

#### 3. ä¿®æ”¹é…ç½®

1. ä¿®æ”¹ `API_BASE_URL` ä¸ºç”Ÿäº§ç¯å¢ƒåœ°å€ï¼ˆHTTPSï¼‰
2. åœ¨ `project.config.json` ä¸­é…ç½® AppID

#### 4. ä¸Šä¼ ä»£ç 

1. åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ç‚¹å‡»"ä¸Šä¼ "
2. å¡«å†™ç‰ˆæœ¬å·å’Œé¡¹ç›®å¤‡æ³¨
3. ä¸Šä¼ æˆåŠŸååœ¨å…¬ä¼—å¹³å°æŸ¥çœ‹

#### 5. æäº¤å®¡æ ¸

1. ç™»å½•å¾®ä¿¡å…¬ä¼—å¹³å°
2. è¿›å…¥"ç‰ˆæœ¬ç®¡ç†"
3. æäº¤å®¡æ ¸ï¼Œå¡«å†™å®¡æ ¸ä¿¡æ¯
4. ç­‰å¾…å®¡æ ¸ï¼ˆé€šå¸¸ 1-7 ä¸ªå·¥ä½œæ—¥ï¼‰

#### 6. å‘å¸ƒä¸Šçº¿

å®¡æ ¸é€šè¿‡åï¼Œç‚¹å‡»"å‘å¸ƒ"æŒ‰é’®æ­£å¼ä¸Šçº¿

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. ç™»å½•åç«‹å³è·³å›ç™»å½•é¡µ

**åŸå› **ï¼šåç«¯æœªå¯åŠ¨æˆ– API åœ°å€é”™è¯¯

**è§£å†³**ï¼š
- æ£€æŸ¥ `api.ts` ä¸­çš„ `API_BASE_URL` é…ç½®
- ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨
- æ£€æŸ¥ç½‘ç»œè¿æ¥

### 2. AI è§£æä¸€ç›´æ˜¾ç¤º"è§£æä¸­"

**åŸå› **ï¼šCelery Worker æœªå¯åŠ¨æˆ– LLM API Key æ— æ•ˆ

**è§£å†³**ï¼š
- å¯åŠ¨ Celery Workerï¼š`celery -A app.infra.queue worker --loglevel=info --pool=solo`
- æ£€æŸ¥åç«¯ `.env` ä¸­çš„ LLM API Key
- æŸ¥çœ‹åç«¯æ—¥å¿—æ’æŸ¥é”™è¯¯

### 3. æŠ¥ä»·ç¯®æ•°æ®ä¸¢å¤±

**åŸå› **ï¼šå°ç¨‹åºç¼“å­˜è¢«æ¸…é™¤

**è§£å†³**ï¼š
- æŠ¥ä»·ç¯®ä½¿ç”¨æœ¬åœ°å­˜å‚¨ï¼Œæ¸…é™¤ç¼“å­˜ä¼šä¸¢å¤±æ•°æ®
- å»ºè®®åŠæ—¶åˆ›å»ºæŠ¥ä»·å•ä¿å­˜æ•°æ®

### 4. TabBar å›¾æ ‡ä¸æ˜¾ç¤º

**åŸå› **ï¼šå›¾æ ‡æ–‡ä»¶æœªå‡†å¤‡

**è§£å†³**ï¼š
- åœ¨ `miniprogram/assets/icons/` ç›®å½•ä¸‹æ”¾ç½®å›¾æ ‡æ–‡ä»¶
- æˆ–ä¸´æ—¶æ³¨é‡Šæ‰ `app.json` ä¸­çš„ `iconPath` å’Œ `selectedIconPath`

### 5. æ— æ³•è¿æ¥åç«¯ API

**åŸå› **ï¼šå¼€å‘ç¯å¢ƒæœªé…ç½®æˆ–ç”Ÿäº§ç¯å¢ƒåŸŸåæœªå¤‡æ¡ˆ

**è§£å†³**ï¼š
- **å¼€å‘ç¯å¢ƒ**ï¼šå‹¾é€‰"ä¸æ ¡éªŒåˆæ³•åŸŸå"
- **ç”Ÿäº§ç¯å¢ƒ**ï¼šåœ¨å…¬ä¼—å¹³å°é…ç½®æœåŠ¡å™¨åŸŸåï¼ˆéœ€è¦ HTTPSï¼‰

### 6. å›¾ç‰‡ä¸Šä¼ å¤±è´¥

**åŸå› **ï¼šæ–‡ä»¶å¤§å°è¶…é™æˆ–æ ¼å¼ä¸æ”¯æŒ

**è§£å†³**ï¼š
- æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆå»ºè®® < 10MBï¼‰
- æ”¯æŒæ ¼å¼ï¼šJPG, PNG

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é¡¹ç›®ä¸» README](../README.md)
- [åç«¯ API æ–‡æ¡£](../app/README.md)
- [Web å‰ç«¯æ–‡æ¡£](../web/README.md)
- [å¾®ä¿¡å°ç¨‹åºå¼€å‘æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [å¾®ä¿¡å°ç¨‹åº API æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/api/)

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/NewFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add NewFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/NewFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](../LICENSE) å¼€æºåè®®ã€‚

---

<div align="center">

Made with â¤ï¸ by TFRM Team

æœ€åæ›´æ–°ï¼š2026-02-06

</div>
