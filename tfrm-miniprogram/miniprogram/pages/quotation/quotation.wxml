<view class="quotation-container">
  <view class="basket-section" wx:if="{{basketItems.length > 0}}">
    <view class="section-header">
      <text class="section-title">æŠ¥ä»·ç¯® ({{basketItems.length}})</text>
      <text class="clear-btn" bindtap="handleClearBasket">æ¸…ç©º</text>
    </view>
    
    <view class="basket-list">
      <view wx:for="{{basketItems}}" wx:key="sku_id" class="basket-item">
        <view class="item-info">
          <text class="item-name">{{item.sku_name}}</text>
          <view class="quantity-control">
            <text class="qty-btn" bindtap="handleDecreaseQty" data-index="{{index}}">-</text>
            <text class="qty-value">{{item.quantity}}</text>
            <text class="qty-btn" bindtap="handleIncreaseQty" data-index="{{index}}">+</text>
          </view>
        </view>
        <text class="remove-btn" bindtap="handleRemoveItem" data-index="{{index}}">âœ•</text>
      </view>
    </view>
    
    <button class="btn-create-quote" bindtap="handleCreateQuotation">
      åˆ›å»ºæŠ¥ä»·å•
    </button>
  </view>

  <view class="quotations-section">
    <view class="section-title">æŠ¥ä»·å•åˆ—è¡¨</view>
    
    <view wx:if="{{loading}}" class="loading-state">
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>
    
    <view wx:elif="{{quotationList.length === 0}}" class="empty-state">
      <text class="empty-icon">ğŸ“‹</text>
      <text class="empty-text">æš‚æ— æŠ¥ä»·å•</text>
    </view>
    
    <view wx:else class="quotation-list">
      <view 
        wx:for="{{quotationList}}" 
        wx:key="id" 
        class="quotation-card"
        bindtap="handleViewQuotation"
        data-quotation-id="{{item.id}}"
      >
        <view class="quotation-header">
          <text class="quotation-title">{{item.title}}</text>
          <view class="quotation-status status-{{item.status}}">
            {{statusLabels[item.status]}}
          </view>
        </view>
        
        <view class="quotation-info">
          <text class="info-item">ğŸ’° æ€»ä»·ï¼šÂ¥{{item.total_amount}}</text>
          <text class="info-item">ğŸ“¦ {{item.items.length}} é¡¹</text>
        </view>
        
        <view class="quotation-customer" wx:if="{{item.customer_name}}">
          <text>å®¢æˆ·ï¼š{{item.customer_name}}</text>
        </view>
        
        <view class="quotation-actions">
          <button 
            wx:if="{{item.status === 'draft'}}"
            class="btn-edit" 
            catchtap="handleEditQuotation"
            data-quotation-id="{{item.id}}"
          >
            ç¼–è¾‘
          </button>
          <button 
            wx:if="{{item.status === 'draft'}}"
            class="btn-publish" 
            catchtap="handlePublishQuotation"
            data-quotation-id="{{item.id}}"
          >
            å‘å¸ƒ
          </button>
          <button 
            wx:if="{{item.status === 'published'}}"
            class="btn-share" 
            catchtap="handleShareQuotation"
            data-quotation-id="{{item.id}}"
          >
            åˆ†äº«
          </button>
        </view>
      </view>
    </view>
  </view>
</view>
